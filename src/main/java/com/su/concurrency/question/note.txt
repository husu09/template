多线程下的变量可见性问题

假设共享变量A

线程t1获得cpu执行时间片
复制共享变量A的副本A1
执行循环,对变量A的修改不可见
	让度执行时间
	重新获得cpu执行时间片
	同步共享变量A1
线程t1失去cpu执行时间片

线程t2获得cpu执行时间片
复制共享变量A的副本A2
修改A2，共享副本A2同步主内存A
执行循环
线程t2失去cpu执行时间片

多线程下的副本是基础类型值和对象的引用，
对基础类型值的修改和对对象引用的修改存在可见性问题，
但对对象里的属性进行操作不存在可见性问题，我在无锁的情况下可能存在线程安全问题。